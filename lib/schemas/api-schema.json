{"openapi":"3.0.0","paths":{"/courses":{"get":{"operationId":"CoursesController_findAll","parameters":[{"name":"page","required":false,"in":"query","schema":{"default":0,"type":"number"}},{"name":"perPage","required":false,"in":"query","schema":{"default":10,"type":"number"}},{"name":"ownerId","required":false,"in":"query","schema":{"type":"string"}},{"name":"searchText","required":false,"in":"query","schema":{"type":"string"}},{"name":"categoryIds","required":false,"in":"query","schema":{"type":"string"}},{"name":"level","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"title":"PaginatedResponseOfCourseDto","allOf":[{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/CourseDto"}}},"required":["data"]},{"properties":{"meta":{"type":"object","properties":{"items":{"type":"number"},"hasNextPage":{"type":"boolean"},"currentPage":{"type":"number"},"totalItems":{"type":"number"},"totalPages":{"type":"number"}},"required":["items","hasNextPage","currentPage","totalItems","totalPages"]}},"required":["meta"]}]}}}}},"summary":"Find all courses","tags":["Courses"]},"post":{"operationId":"CoursesController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCourseDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CourseDto"}}}}},"security":[{"bearer":[]}],"summary":"Create a new course","tags":["Courses"]}},"/courses/physiotherapist":{"get":{"operationId":"CoursesController_findAllForPhysiotherapist","parameters":[{"name":"page","required":false,"in":"query","schema":{"default":0,"type":"number"}},{"name":"perPage","required":false,"in":"query","schema":{"default":10,"type":"number"}},{"name":"ownerId","required":false,"in":"query","schema":{"type":"string"}},{"name":"searchText","required":false,"in":"query","schema":{"type":"string"}},{"name":"categoryIds","required":false,"in":"query","schema":{"type":"string"}},{"name":"level","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"title":"PaginatedResponseOfCourseDto","allOf":[{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/CourseDto"}}},"required":["data"]},{"properties":{"meta":{"type":"object","properties":{"items":{"type":"number"},"hasNextPage":{"type":"boolean"},"currentPage":{"type":"number"},"totalItems":{"type":"number"},"totalPages":{"type":"number"}},"required":["items","hasNextPage","currentPage","totalItems","totalPages"]}},"required":["meta"]}]}}}}},"security":[{"bearer":[]}],"tags":["Courses"]}},"/courses/subscribed/{userId}":{"get":{"operationId":"CoursesController_findSubscribedCoursesForUserId","parameters":[{"name":"page","required":false,"in":"query","schema":{"default":0,"type":"number"}},{"name":"perPage","required":false,"in":"query","schema":{"default":10,"type":"number"}},{"name":"userId","required":true,"in":"path","schema":{"type":"string"}},{"name":"ownerId","required":false,"in":"query","schema":{"type":"string"}},{"name":"searchText","required":false,"in":"query","schema":{"type":"string"}},{"name":"categoryIds","required":false,"in":"query","schema":{"type":"string"}},{"name":"level","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"title":"PaginatedResponseOfCourseDto","allOf":[{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/CourseDto"}}},"required":["data"]},{"properties":{"meta":{"type":"object","properties":{"items":{"type":"number"},"hasNextPage":{"type":"boolean"},"currentPage":{"type":"number"},"totalItems":{"type":"number"},"totalPages":{"type":"number"}},"required":["items","hasNextPage","currentPage","totalItems","totalPages"]}},"required":["meta"]}]}}}}},"security":[{"bearer":[]}],"summary":"Find all courses to which the given user is subscribed","tags":["Courses"]}},"/courses/{id}":{"get":{"operationId":"CoursesController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CourseDto"}}}}},"summary":"Find a course by its id","tags":["Courses"]},"put":{"operationId":"CoursesController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCourseDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CourseDto"}}}}},"security":[{"bearer":[]}],"summary":"Update a course by its id","tags":["Courses"]},"delete":{"operationId":"CoursesController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"Delete a course by its id","tags":["Courses"]}},"/courses/{id}/picture":{"post":{"operationId":"CoursesController_uploadCoursePicture","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CourseDto"}}}},"201":{"description":""}},"security":[{"bearer":[]}],"summary":"Upload a course picture","tags":["Courses"]}},"/auth/login":{"post":{"operationId":"AuthController_userLogin","parameters":[{"name":"x-auth-flow","in":"header","description":"The authentication flow to use. 'web' should be specified for web applications","required":false,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignInDto"}}}},"responses":{"200":{"description":"Successful login","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResponseDto"}}}},"201":{"description":""}},"summary":"Logs in a user and sets the refresh token cookie.","tags":["Auth"]}},"/auth/login/admin":{"post":{"operationId":"AuthController_adminLogin","parameters":[{"name":"x-auth-flow","in":"header","description":"The authentication flow to use. 'web' should be specified for web applications","required":false,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignInDto"}}}},"responses":{"200":{"description":"Successful login","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResponseDto"}}}},"201":{"description":""}},"summary":"Logs in an admin user and sets the refresh token cookie.","tags":["Auth"]}},"/auth/login/otp":{"post":{"operationId":"AuthController_loginOtp","parameters":[{"name":"x-auth-flow","in":"header","description":"The authentication flow to use. 'web' should be specified for web applications","required":false,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OtpLoginDto"}}}},"responses":{"200":{"description":"Successful login","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResponseDto"}}}},"201":{"description":""}},"summary":"Executes the OTP login stage.","tags":["Auth"]}},"/auth/refresh":{"post":{"operationId":"AuthController_refresh","parameters":[{"name":"x-auth-flow","in":"header","description":"The authentication flow to use. 'web' should be specified for web applications","required":false,"schema":{"type":"string"}}],"requestBody":{"required":false,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenDto"}}}},"responses":{"200":{"description":"Token refreshed successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResponseDto"}}}},"201":{"description":""}},"summary":"Refreshes the user's access token and sets a new refresh token cookie.","tags":["Auth"]}},"/auth/logout":{"post":{"operationId":"AuthController_logout","parameters":[],"responses":{"201":{"description":""}},"security":[{"bearer":[]}],"summary":"Logs out the user by clearing the refresh token cookie.","tags":["Auth"]}},"/auth/profile":{"get":{"operationId":"AuthController_getUserProfile","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthUserDto"}}}}},"security":[{"bearer":[]}],"summary":"Retrieves the profile of the currently authenticated user.","tags":["Auth"]},"put":{"operationId":"AuthController_updateUserProfile","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateAuthUserDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthUserDto"}}}}},"security":[{"bearer":[]}],"summary":"Updates the profile of the currently authenticated user.","tags":["Auth"]},"delete":{"operationId":"AuthController_deleteUserProfile","parameters":[],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"Deletes the profile of the currently authenticated user.","tags":["Auth"]}},"/auth/profile/picture":{"post":{"operationId":"AuthController_updateProfilePicture","parameters":[],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplicationUserDto"}}}},"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthUserDto"}}}}},"security":[{"bearer":[]}],"summary":"Updates the profile picture of the currently authenticated user.","tags":["Auth"]}},"/auth/signup/customer":{"post":{"operationId":"AuthController_signUp","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SignUpDto"}}}},"responses":{"200":{"description":""}},"summary":"Registers a new customer account.","tags":["Auth"]}},"/auth/password":{"post":{"operationId":"AuthController_requestPasswordReset","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmailDto"}}}},"responses":{"201":{"description":""}},"summary":"Requests a password reset for a user.","tags":["Auth"]}},"/auth/password/update":{"post":{"operationId":"AuthController_updatePassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordUpdateDto"}}}},"responses":{"201":{"description":""}},"summary":"Updates the password for a user.","tags":["Auth"]}},"/auth/password/change":{"post":{"operationId":"AuthController_changePassword","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordChangeDto"}}}},"responses":{"201":{"description":""}},"security":[{"bearer":[]}],"summary":"Changes the password for the currently authenticated user.","tags":["Auth"]}},"/auth/otp":{"put":{"operationId":"AuthController_switchOtp","parameters":[{"name":"value","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"Enables or disables two-factor authentication for the user.","tags":["Auth"]}},"/auth/email":{"post":{"operationId":"AuthController_requestEmailUpdate","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmailDto"}}}},"responses":{"201":{"description":""}},"security":[{"bearer":[]}],"summary":"Requests an email update for the currently authenticated user.","tags":["Auth"]},"put":{"operationId":"AuthController_confirmEmail","parameters":[{"name":"x-auth-flow","in":"header","description":"The authentication flow to use. 'web' should be specified for web applications","required":false,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmailConfirmDto"}}}},"responses":{"200":{"description":"Email confirmed successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthResponseDto"}}}}},"summary":"Confirms an email update for the user.","tags":["Auth"]}},"/users":{"post":{"operationId":"UsersController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplicationUserDto"}}}}},"security":[{"bearer":[]}],"summary":"Create a new user.","tags":["Users"]},"get":{"operationId":"UsersController_findAll","parameters":[{"name":"page","required":false,"in":"query","schema":{"default":0,"type":"number"}},{"name":"perPage","required":false,"in":"query","schema":{"default":10,"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"title":"PaginatedResponseOfApplicationUserDto","allOf":[{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/ApplicationUserDto"}}},"required":["data"]},{"properties":{"meta":{"type":"object","properties":{"items":{"type":"number"},"hasNextPage":{"type":"boolean"},"currentPage":{"type":"number"},"totalItems":{"type":"number"},"totalPages":{"type":"number"}},"required":["items","hasNextPage","currentPage","totalItems","totalPages"]}},"required":["meta"]}]}}}}},"security":[{"bearer":[]}],"summary":"Retrieve a paginated list of users.","tags":["Users"]}},"/users/{id}":{"get":{"operationId":"UsersController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplicationUserDto"}}}}},"security":[{"bearer":[]}],"summary":"Retrieve a single user by its unique ID.","tags":["Users"]},"put":{"operationId":"UsersController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApplicationUserDto"}}}}},"security":[{"bearer":[]}],"summary":"Update a user by its unique ID.","tags":["Users"]},"delete":{"operationId":"UsersController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"Delete a user by its unique ID.","tags":["Users"]}},"/subscriptions":{"get":{"operationId":"SubscriptionsController_getSubscriptionsForLoggedUser","parameters":[{"name":"page","required":false,"in":"query","schema":{"default":0,"type":"number"}},{"name":"perPage","required":false,"in":"query","schema":{"default":10,"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"title":"PaginatedResponseOfSubscriptionDtoWithCourse","allOf":[{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/SubscriptionDtoWithCourse"}}},"required":["data"]},{"properties":{"meta":{"type":"object","properties":{"items":{"type":"number"},"hasNextPage":{"type":"boolean"},"currentPage":{"type":"number"},"totalItems":{"type":"number"},"totalPages":{"type":"number"}},"required":["items","hasNextPage","currentPage","totalItems","totalPages"]}},"required":["meta"]}]}}}}},"security":[{"bearer":[]}],"summary":"Get the current active subscriptions for the logged user","tags":["Subscriptions"]},"post":{"operationId":"SubscriptionsController_createSubscription","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionCreateDto"}}}},"responses":{"200":{"description":""},"201":{"description":""}},"security":[{"bearer":[]}],"summary":"[ADMIN & PHYSIOTHERAPIST] Create a direct subscription for a user to a course","tags":["Subscriptions"]},"delete":{"operationId":"SubscriptionsController_deleteSubscription","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionDeleteDto"}}}},"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"[ADMIN & PHYSIOTHERAPIST] Delete a subscription for a user from a course","tags":["Subscriptions"]}},"/subscriptions/pending":{"get":{"operationId":"SubscriptionsController_getPendingSubscriptionsForLoggedUser","parameters":[{"name":"page","required":false,"in":"query","schema":{"default":0,"type":"number"}},{"name":"perPage","required":false,"in":"query","schema":{"default":10,"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"title":"PaginatedResponseOfSubscriptionDtoWithCourse","allOf":[{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/SubscriptionDtoWithCourse"}}},"required":["data"]},{"properties":{"meta":{"type":"object","properties":{"items":{"type":"number"},"hasNextPage":{"type":"boolean"},"currentPage":{"type":"number"},"totalItems":{"type":"number"},"totalPages":{"type":"number"}},"required":["items","hasNextPage","currentPage","totalItems","totalPages"]}},"required":["meta"]}]}}}}},"security":[{"bearer":[]}],"summary":"Get the pending subscriptions for the logged user","tags":["Subscriptions"]}},"/subscriptions/request":{"post":{"operationId":"SubscriptionsController_sendSubscriptionRequest","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionRequestDto"}}}},"responses":{"200":{"description":""},"201":{"description":""}},"security":[{"bearer":[]}],"summary":"Send a subscription request to a course","tags":["Subscriptions"]}},"/subscriptions/{userId}":{"get":{"operationId":"SubscriptionsController_getSubscriptionsForGivenUser","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"string"}},{"name":"page","required":false,"in":"query","schema":{"default":0,"type":"number"}},{"name":"perPage","required":false,"in":"query","schema":{"default":10,"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"title":"PaginatedResponseOfSubscriptionDtoWithCourse","allOf":[{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/SubscriptionDtoWithCourse"}}},"required":["data"]},{"properties":{"meta":{"type":"object","properties":{"items":{"type":"number"},"hasNextPage":{"type":"boolean"},"currentPage":{"type":"number"},"totalItems":{"type":"number"},"totalPages":{"type":"number"}},"required":["items","hasNextPage","currentPage","totalItems","totalPages"]}},"required":["meta"]}]}}}}},"security":[{"bearer":[]}],"summary":"[ADMIN & PHYSIOTHERAPIST] Get the active subscriptions for a specific user","tags":["Subscriptions"]}},"/subscriptions/{userId}/pending":{"get":{"operationId":"SubscriptionsController_getPendingSubscriptionsForGivenUser","parameters":[{"name":"userId","required":true,"in":"path","schema":{"type":"string"}},{"name":"page","required":false,"in":"query","schema":{"default":0,"type":"number"}},{"name":"perPage","required":false,"in":"query","schema":{"default":10,"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"title":"PaginatedResponseOfSubscriptionDtoWithCourse","allOf":[{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/SubscriptionDtoWithCourse"}}},"required":["data"]},{"properties":{"meta":{"type":"object","properties":{"items":{"type":"number"},"hasNextPage":{"type":"boolean"},"currentPage":{"type":"number"},"totalItems":{"type":"number"},"totalPages":{"type":"number"}},"required":["items","hasNextPage","currentPage","totalItems","totalPages"]}},"required":["meta"]}]}}}}},"security":[{"bearer":[]}],"summary":"[ADMIN & PHYSIOTHERAPIST] Get the pending subscriptions for a specific user","tags":["Subscriptions"]}},"/subscriptions/course/{courseId}":{"get":{"operationId":"SubscriptionsController_getSubscribersForCourse","parameters":[{"name":"courseId","required":true,"in":"path","schema":{"type":"string"}},{"name":"page","required":false,"in":"query","schema":{"default":0,"type":"number"}},{"name":"perPage","required":false,"in":"query","schema":{"default":10,"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"title":"PaginatedResponseOfSubscriptionDtoWithUser","allOf":[{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/SubscriptionDtoWithUser"}}},"required":["data"]},{"properties":{"meta":{"type":"object","properties":{"items":{"type":"number"},"hasNextPage":{"type":"boolean"},"currentPage":{"type":"number"},"totalItems":{"type":"number"},"totalPages":{"type":"number"}},"required":["items","hasNextPage","currentPage","totalItems","totalPages"]}},"required":["meta"]}]}}}}},"security":[{"bearer":[]}],"summary":"[ADMIN & PHYSIOTHERAPIST] Get all active subscribers for a course","tags":["Subscriptions"]}},"/subscriptions/course/{courseId}/pending":{"get":{"operationId":"SubscriptionsController_getPendingSubscribersForCourse","parameters":[{"name":"courseId","required":true,"in":"path","schema":{"type":"string"}},{"name":"page","required":false,"in":"query","schema":{"default":0,"type":"number"}},{"name":"perPage","required":false,"in":"query","schema":{"default":10,"type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"title":"PaginatedResponseOfSubscriptionDtoWithUser","allOf":[{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/SubscriptionDtoWithUser"}}},"required":["data"]},{"properties":{"meta":{"type":"object","properties":{"items":{"type":"number"},"hasNextPage":{"type":"boolean"},"currentPage":{"type":"number"},"totalItems":{"type":"number"},"totalPages":{"type":"number"}},"required":["items","hasNextPage","currentPage","totalItems","totalPages"]}},"required":["meta"]}]}}}}},"security":[{"bearer":[]}],"summary":"[ADMIN & PHYSIOTHERAPIST] Get all pending subscribers for a course","tags":["Subscriptions"]}},"/subscriptions/request/accept":{"put":{"operationId":"SubscriptionsController_acceptSubscriptionRequest","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionCreateDto"}}}},"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"summary":"[ADMIN & PHYSIOTHERAPIST] Accept a pending subscription request","tags":["Subscriptions"]}},"/categories":{"post":{"operationId":"CategoriesController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCourseCategoryDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CourseCategoryDto"}}}}},"security":[{"bearer":[]}],"tags":["Categories"]},"get":{"operationId":"CategoriesController_findAll","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CourseCategoryDto"}}}}}},"security":[{"bearer":[]}],"tags":["Categories"]}},"/categories/{id}":{"get":{"operationId":"CategoriesController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CourseCategoryDto"}}}}},"security":[{"bearer":[]}],"tags":["Categories"]},"put":{"operationId":"CategoriesController_update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCourseCategoryDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CourseCategoryDto"}}}}},"security":[{"bearer":[]}],"tags":["Categories"]},"delete":{"operationId":"CategoriesController_remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"security":[{"bearer":[]}],"tags":["Categories"]}}},"info":{"title":"EasyMotion API","description":"The EasyMotion API","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http","in":"header","name":"Authorization","description":"Enter your Bearer token"}},"schemas":{"CourseOwnerDto":{"type":"object","properties":{"id":{"type":"string","description":"Unique user identifier (UUID)","example":"b3bf4d18-8dd0-43a1-b1da-fd3f7b9553a1"},"email":{"type":"string","format":"email","description":"Email address of the user","example":"user@example.com"},"firstName":{"type":"string","description":"User first name","example":"John"},"middleName":{"type":"string","nullable":true,"description":"User middle name","example":"Alexander"},"lastName":{"type":"string","description":"User last name","example":"Doe"}},"required":["id","email","firstName","lastName"]},"CourseCategoryDto":{"type":"object","properties":{"name":{"type":"string","description":"The name of the course category"},"id":{"type":"string","description":"The id of the course category"}},"required":["name","id"]},"CourseSessionDto":{"type":"object","properties":{"id":{"type":"string","description":"The id of the session"},"start_time":{"format":"date-time","type":"string","description":"Start time of the session"},"end_time":{"format":"date-time","type":"string","description":"End time of the session"}},"required":["id","start_time","end_time"]},"CourseDto":{"type":"object","properties":{"id":{"type":"string","description":"The id of the course"},"image_path":{"type":"string","nullable":true,"description":"The image path of the course"},"name":{"type":"string","description":"The name of the course"},"description":{"type":"string","description":"The complete description of the course"},"short_description":{"type":"string","description":"A brief description of the course"},"location":{"type":"string","nullable":true,"description":"Location where the course will be held"},"instructors":{"description":"List of instructors for the course","type":"array","items":{"type":"string"}},"level":{"type":"string","description":"Level of the course","enum":["BASIC","MEDIUM","ADVANCED"]},"price":{"type":"number","minimum":0,"description":"Price of the course"},"payment_recurrence":{"type":"string","description":"Payment recurrence","enum":["SINGLE","PER_SESSION","MONTHLY","ANNUAL"]},"is_published":{"type":"boolean","description":"Indicates if the course is public"},"subscriptions_open":{"type":"boolean","description":"Indicates if subscriptions are open"},"max_subscribers":{"type":"number","nullable":true,"description":"Amount of maximum subscribers (unlimited if null)"},"tags":{"description":"Related tags","type":"array","items":{"type":"string"}},"created_at":{"format":"date-time","type":"string","description":"Date of creation"},"updated_at":{"format":"date-time","type":"string","description":"Date of last update"},"owner":{"description":"The owner of the course","allOf":[{"$ref":"#/components/schemas/CourseOwnerDto"}]},"category":{"description":"The category of the course","allOf":[{"$ref":"#/components/schemas/CourseCategoryDto"}]},"sessions":{"description":"The sessions of the course","type":"array","items":{"$ref":"#/components/schemas/CourseSessionDto"}},"subscription_start_date":{"format":"date-time","type":"string","description":"Subscription start date"},"subscription_end_date":{"format":"date-time","type":"string","description":"Subscription end date"}},"required":["id","image_path","name","description","short_description","instructors","level","price","payment_recurrence","is_published","subscriptions_open","tags","created_at","updated_at","owner","category","sessions","subscription_start_date","subscription_end_date"]},"CreateCourseSessionDto":{"type":"object","properties":{"start_time":{"format":"date-time","type":"string","description":"Start time of the session"},"end_time":{"format":"date-time","type":"string","description":"End time of the session"}},"required":["start_time","end_time"]},"CreateCourseDto":{"type":"object","properties":{"name":{"type":"string","description":"The name of the course"},"description":{"type":"string","description":"The complete description of the course"},"short_description":{"type":"string","description":"A brief description of the course"},"location":{"type":"string","nullable":true,"description":"Location where the course will be held"},"instructors":{"description":"List of instructors for the course","type":"array","items":{"type":"string"}},"level":{"type":"string","description":"Level of the course","enum":["BASIC","MEDIUM","ADVANCED"]},"price":{"type":"number","minimum":0,"description":"Price of the course"},"payment_recurrence":{"type":"string","description":"Payment recurrence","enum":["SINGLE","PER_SESSION","MONTHLY","ANNUAL"]},"is_published":{"type":"boolean","description":"Indicates if the course is public"},"subscriptions_open":{"type":"boolean","description":"Indicates if subscriptions are open"},"max_subscribers":{"type":"number","nullable":true,"description":"Amount of maximum subscribers (unlimited if null)"},"tags":{"description":"Related tags","type":"array","items":{"type":"string"}},"subscription_start_date":{"format":"date-time","type":"string","description":"Subscription start date"},"subscription_end_date":{"format":"date-time","type":"string","description":"Subscription end date"},"category_id":{"type":"string","description":"id of the existent category"},"sessions":{"type":"array","items":{"$ref":"#/components/schemas/CreateCourseSessionDto"}}},"required":["name","description","short_description","instructors","level","price","payment_recurrence","is_published","subscriptions_open","tags","subscription_start_date","subscription_end_date","category_id","sessions"]},"UpdateCourseSessionDto":{"type":"object","properties":{"start_time":{"format":"date-time","type":"string","description":"Start time of the session"},"end_time":{"format":"date-time","type":"string","description":"End time of the session"},"id":{"type":"string","description":"The id of the session to update if the session exists already"}},"required":["start_time","end_time"]},"UpdateCourseDto":{"type":"object","properties":{"name":{"type":"string","description":"The name of the course"},"description":{"type":"string","description":"The complete description of the course"},"short_description":{"type":"string","description":"A brief description of the course"},"location":{"type":"string","nullable":true,"description":"Location where the course will be held"},"instructors":{"description":"List of instructors for the course","type":"array","items":{"type":"string"}},"level":{"type":"string","description":"Level of the course","enum":["BASIC","MEDIUM","ADVANCED"]},"price":{"type":"number","minimum":0,"description":"Price of the course"},"payment_recurrence":{"type":"string","description":"Payment recurrence","enum":["SINGLE","PER_SESSION","MONTHLY","ANNUAL"]},"is_published":{"type":"boolean","description":"Indicates if the course is public"},"subscriptions_open":{"type":"boolean","description":"Indicates if subscriptions are open"},"max_subscribers":{"type":"number","nullable":true,"description":"Amount of maximum subscribers (unlimited if null)"},"tags":{"description":"Related tags","type":"array","items":{"type":"string"}},"subscription_start_date":{"format":"date-time","type":"string","description":"Subscription start date"},"subscription_end_date":{"format":"date-time","type":"string","description":"Subscription end date"},"category_id":{"type":"string","description":"id of the existent category"},"sessions":{"type":"array","items":{"$ref":"#/components/schemas/UpdateCourseSessionDto"}}}},"SignInDto":{"type":"object","properties":{"email":{"type":"string","format":"email","description":"Email address of the user","example":"admin@easymotion.it"},"password":{"type":"string","description":"Password of the user","example":"password"}},"required":["email","password"]},"AuthUserDto":{"type":"object","properties":{"id":{"type":"string","description":"Unique user identifier (UUID)","example":"b3bf4d18-8dd0-43a1-b1da-fd3f7b9553a1"},"email":{"type":"string","format":"email","description":"Email address of the user","example":"user@example.com"},"firstName":{"type":"string","description":"User first name","example":"John"},"middleName":{"type":"string","nullable":true,"description":"User middle name","example":"Alexander"},"lastName":{"type":"string","description":"User last name","example":"Doe"},"phoneNumber":{"type":"string","nullable":true,"description":"User phone number","example":"+1234567890"},"birthDate":{"type":"string","nullable":true,"description":"User birth date","example":"1990-01-01"},"role":{"type":"string","description":"User role in the system","enum":["USER","ADMIN","PHYSIOTHERAPIST"],"default":"USER"},"isEmailVerified":{"type":"boolean","description":"Indicates if the user email has been verified","default":false,"example":false},"picturePath":{"type":"string","nullable":true,"description":"Profile picture path"},"twoFactorEnabled":{"type":"boolean","description":"Indicates if two-factor authentication is enabled","default":false}},"required":["id","email","firstName","lastName","role","isEmailVerified","picturePath","twoFactorEnabled"]},"AccessTokenDto":{"type":"object","properties":{"accessToken":{"type":"string","description":"The access token"},"refreshToken":{"type":"string","description":"The access token (if not using a web auth flow)"}},"required":["accessToken"]},"AuthResponseDto":{"type":"object","properties":{"user":{"description":"User related data","allOf":[{"$ref":"#/components/schemas/AuthUserDto"}]},"tokens":{"description":"Access token and, eventually, refresh token","allOf":[{"$ref":"#/components/schemas/AccessTokenDto"}]},"requiresOtp":{"type":"boolean","description":"Indicates if secondary OTP step is required"}},"required":["requiresOtp"]},"OtpLoginDto":{"type":"object","properties":{"email":{"type":"string","format":"email","description":"User email used for first login step"},"otp":{"type":"string","description":"One-time password"}},"required":["email","otp"]},"RefreshTokenDto":{"type":"object","properties":{"refreshToken":{"type":"string","description":"The refresh token (no need to specify in case of a web auth flow)"}}},"UpdateAuthUserDto":{"type":"object","properties":{"firstName":{"type":"string","description":"User first name","example":"John"},"middleName":{"type":"string","nullable":true,"description":"User middle name","example":"Alexander"},"lastName":{"type":"string","description":"User last name","example":"Doe"},"phoneNumber":{"type":"string","nullable":true,"description":"User phone number","example":"+1234567890"},"birthDate":{"type":"string","nullable":true,"description":"User birth date","example":"1990-01-01"},"twoFactorEnabled":{"type":"boolean","description":"Indicates if two-factor authentication is enabled","default":false}}},"ApplicationUserDto":{"type":"object","properties":{"id":{"type":"string","description":"Unique user identifier (UUID)","example":"b3bf4d18-8dd0-43a1-b1da-fd3f7b9553a1"},"email":{"type":"string","format":"email","description":"Email address of the user","example":"user@example.com"},"firstName":{"type":"string","description":"User first name","example":"John"},"middleName":{"type":"string","nullable":true,"description":"User middle name","example":"Alexander"},"lastName":{"type":"string","description":"User last name","example":"Doe"},"phoneNumber":{"type":"string","nullable":true,"description":"User phone number","example":"+1234567890"},"birthDate":{"type":"string","nullable":true,"description":"User birth date","example":"1990-01-01"},"role":{"type":"string","description":"User role in the system","enum":["USER","ADMIN","PHYSIOTHERAPIST"],"default":"USER"},"isEmailVerified":{"type":"boolean","description":"Indicates if the user email has been verified","default":false,"example":false},"lastLogin":{"format":"date-time","type":"string","description":"Timestamp of the user last login","example":"2025-12-31T23:59:59.999Z"},"createdAt":{"format":"date-time","type":"string","description":"Timestamp of when the user was created","example":"2025-01-01T00:00:00.000Z"},"updatedAt":{"format":"date-time","type":"string","description":"Timestamp of the user last update","example":"2025-01-10T10:00:00.000Z"},"picturePath":{"type":"string","nullable":true,"description":"Profile picture path"},"twoFactorEnabled":{"type":"boolean","description":"Indicates if two-factor authentication is enabled","default":false}},"required":["id","email","firstName","lastName","role","isEmailVerified","lastLogin","createdAt","updatedAt","picturePath","twoFactorEnabled"]},"SignUpDto":{"type":"object","properties":{"email":{"type":"string","format":"email","description":"Email address of the new user","example":"john.doe@example.com"},"password":{"type":"string","description":"Password of the user","example":"password"},"repeatedPassword":{"type":"string","description":"Repeated password of the user","example":"password"},"firstName":{"type":"string","description":"First name of the new user","example":"John"},"middleName":{"type":"string","description":"Middle name of the new user (optional)","example":"Alexander"},"lastName":{"type":"string","description":"Last name of the new user","example":"Doe"},"phoneNumber":{"type":"string","description":"Phone number of the new user (optional)","example":"+123456789"},"birthDate":{"type":"string","description":"Birth date in ISO format (YYYY-MM-DD) (optional)","example":"1990-01-01"}},"required":["email","password","repeatedPassword","firstName","lastName"]},"EmailDto":{"type":"object","properties":{"email":{"type":"string","format":"email","description":"Email address of the user","example":"user@easymotion.it"}},"required":["email"]},"PasswordUpdateDto":{"type":"object","properties":{"userId":{"type":"string","description":"User ID of the user to reset the password"},"token":{"type":"string","description":"Token to reset the password"},"newPassword":{"type":"string","description":"New password for the user"}},"required":["userId","token","newPassword"]},"PasswordChangeDto":{"type":"object","properties":{"oldPassword":{"type":"string","description":"The previous password"},"newPassword":{"type":"string","description":"The new password"}},"required":["oldPassword","newPassword"]},"EmailConfirmDto":{"type":"object","properties":{"email":{"type":"string","format":"email","description":"Email address of the user","example":"user@easymotion.it"},"token":{"type":"string","description":"Token sent to the user","example":"00000000-0000-0000-0000-000000000000"},"userId":{"type":"string","description":"User ID of the user to confirm the email","example":"00000000-0000-0000-0000-000000000000"}},"required":["email","token","userId"]},"CreateUserDto":{"type":"object","properties":{"email":{"type":"string","format":"email","description":"Email address of the new user","example":"john.doe@example.com"},"password":{"type":"string","minLength":6,"description":"Plain-text password for the new user (will be hashed)","example":"MyStrongP@ssw0rd!"},"isEmailVerified":{"type":"boolean","description":"Flag indicating if the email address has been verified","example":true},"firstName":{"type":"string","description":"First name of the new user","example":"John"},"middleName":{"type":"string","description":"Middle name of the new user (optional)","example":"Alexander"},"lastName":{"type":"string","description":"Last name of the new user","example":"Doe"},"phoneNumber":{"type":"string","description":"Phone number of the new user (optional)","example":"+123456789"},"birthDate":{"type":"string","description":"Birth date in ISO format (YYYY-MM-DD) (optional)","example":"1990-01-01"},"role":{"type":"string","description":"Role of the new user (defaults to USER if not provided)","enum":["USER","ADMIN","PHYSIOTHERAPIST"],"default":"USER"}},"required":["email","password","isEmailVerified","firstName","lastName"]},"UpdateUserDto":{"type":"object","properties":{"email":{"type":"string","format":"email","description":"Email address of the new user","example":"john.doe@example.com"},"password":{"type":"string","minLength":6,"description":"Plain-text password for the new user (will be hashed)","example":"MyStrongP@ssw0rd!"},"isEmailVerified":{"type":"boolean","description":"Flag indicating if the email address has been verified","example":true},"firstName":{"type":"string","description":"First name of the new user","example":"John"},"middleName":{"type":"string","description":"Middle name of the new user (optional)","example":"Alexander"},"lastName":{"type":"string","description":"Last name of the new user","example":"Doe"},"phoneNumber":{"type":"string","description":"Phone number of the new user (optional)","example":"+123456789"},"birthDate":{"type":"string","description":"Birth date in ISO format (YYYY-MM-DD) (optional)","example":"1990-01-01"},"role":{"type":"string","description":"Role of the new user (defaults to USER if not provided)","enum":["USER","ADMIN","PHYSIOTHERAPIST"],"default":"USER"}}},"SubscriptionCourseDto":{"type":"object","properties":{"id":{"type":"string","description":"The id of the course"},"name":{"type":"string","description":"The name of the course"}},"required":["id","name"]},"SubscriptionDtoWithCourse":{"type":"object","properties":{"created_at":{"format":"date-time","type":"string","description":"Creation date"},"updated_at":{"format":"date-time","type":"string","description":"Update date"},"subscriptionRequestMessage":{"type":"string","description":"Subscription request message"},"course":{"description":"Course id and name","allOf":[{"$ref":"#/components/schemas/SubscriptionCourseDto"}]},"course_id":{"type":"string"},"patient_id":{"type":"string"},"isPending":{"type":"boolean"}},"required":["created_at","updated_at","subscriptionRequestMessage","course","course_id","patient_id","isPending"]},"SubscriptionRequestDto":{"type":"object","properties":{"course_id":{"type":"string","description":"Course ID of the subscription request"},"subscriptionRequestMessage":{"type":"string","description":"Subscription request message"}},"required":["course_id","subscriptionRequestMessage"]},"SubscriptionUserDto":{"type":"object","properties":{"id":{"type":"string","description":"Unique user identifier (UUID)","example":"b3bf4d18-8dd0-43a1-b1da-fd3f7b9553a1"},"email":{"type":"string","format":"email","description":"Email address of the user","example":"user@example.com"},"firstName":{"type":"string","description":"User first name","example":"John"},"middleName":{"type":"string","nullable":true,"description":"User middle name","example":"Alexander"},"lastName":{"type":"string","description":"User last name","example":"Doe"}},"required":["id","email","firstName","lastName"]},"SubscriptionDtoWithUser":{"type":"object","properties":{"created_at":{"format":"date-time","type":"string","description":"Creation date"},"updated_at":{"format":"date-time","type":"string","description":"Update date"},"subscriptionRequestMessage":{"type":"string","description":"Subscription request message"},"course":{"description":"Course id and name","allOf":[{"$ref":"#/components/schemas/SubscriptionCourseDto"}]},"user":{"description":"Subscribed user","allOf":[{"$ref":"#/components/schemas/SubscriptionUserDto"}]},"course_id":{"type":"string"},"patient_id":{"type":"string"},"isPending":{"type":"boolean"}},"required":["created_at","updated_at","subscriptionRequestMessage","course","user","course_id","patient_id","isPending"]},"SubscriptionCreateDto":{"type":"object","properties":{"course_id":{"type":"string","description":"Subscribed course ID"},"patient_id":{"type":"string","description":"Subscribed user ID"}},"required":["course_id","patient_id"]},"SubscriptionDeleteDto":{"type":"object","properties":{"course_id":{"type":"string","description":"Subscribed course ID"},"patient_id":{"type":"string","description":"Subscribed user ID"}},"required":["course_id","patient_id"]},"CreateCourseCategoryDto":{"type":"object","properties":{"name":{"type":"string","description":"The name of the course category"}},"required":["name"]},"UpdateCourseCategoryDto":{"type":"object","properties":{"name":{"type":"string","description":"The name of the course category"}},"required":["name"]}}},"security":[{"bearer":[]}]}